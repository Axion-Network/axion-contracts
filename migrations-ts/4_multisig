const { admin } = require('@openzeppelin/truffle-upgrades');

module.exports = async function (deployer, network) {
  const { GNOSIS_ADDRESS } = process.env;
  console.log(`========= Gnosis address ${GNOSIS_ADDRESS} =========`);
  if (!GNOSIS_ADDRESS) return; // Only change if gnosis address exist

  // Use address of your Gnosis Safe
  const gnosisSafe = GNOSIS_ADDRESS;
  console.log(`Setting multisig gnosis safe address to ${gnosisSafe}`);
  // The owner of the ProxyAdmin can upgrade our contracts
  await admin.transferProxyAdminOwnership(gnosisSafe);
  console.log(`========= MULTISIG FINISHED =========`);
} as Truffle.Migration;

// because of https://stackoverflow.com/questions/40900791/cannot-redeclare-block-scoped-variable-in-unrelated-files
export {};
